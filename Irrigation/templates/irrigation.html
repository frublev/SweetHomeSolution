{% extends "base.html" %}

{% block content %}

<h6 class="display-6">Irrigation areas</h6>

<script>
  const postData = async (url = '', data = {}) => {
    const response = await fetch(url, {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify(data)
    });
    let valve_status = await response.json();
    button_class_text(valve_status.fn);
  return;
  }

  function button_class_text(text) {
    for (let i = 1; i < 4; i++) {
      let valve = "valve" + i
      if (text[i-1] == "f") {
        document.getElementById(valve).className = 'btn btn-success';
        document.getElementById(valve).innerText = 'off';
      } else {
        document.getElementById(valve).className = 'btn btn-danger';
        document.getElementById(valve).innerText = 'on';
      }
    }
  }

</script>

{% endblock %}
